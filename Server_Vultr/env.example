# ============================================================
# 🌱 Project Rhizome - Environment Variables
# ============================================================
# 이 파일을 .env로 복사하고 값을 수정하세요:
#   cp env.example .env
#   nano .env
# ============================================================

# ==================== 서버 설정 ====================
# Vultr VPS의 Tailscale IP (100.x.x.x)
SERVER_TAILSCALE_IP=100.x.x.x
SERVER_PUBLIC_IP=xxx.xxx.xxx.xxx

# 타임존
TIMEZONE=Asia/Seoul

# ==================== n8n 설정 ====================
# 호스트 설정
N8N_HOST=0.0.0.0
N8N_PORT=5678
N8N_PROTOCOL=http

# Webhook URL (Tailscale IP 사용)
# 클라이언트(S9)가 이 URL로 요청을 보냄
WEBHOOK_URL=http://100.x.x.x:5678/

# 인증 설정 - ⚠️ 프로덕션 필수! 미설정 시 서비스 시작 실패
N8N_BASIC_AUTH_ACTIVE=true
N8N_BASIC_AUTH_USER=admin
# 강력한 비밀번호 생성: openssl rand -base64 32
N8N_BASIC_AUTH_PASSWORD=

# 암호화 키 - ⚠️ 프로덕션 필수! 절대 소스에 커밋하지 마세요
# 생성 방법: openssl rand -base64 32
# 주의: 한 번 설정 후 변경하면 기존 암호화 데이터 손실
N8N_ENCRYPTION_KEY=

# ==================== MongoDB 설정 ====================
# 루트 계정 - ⚠️ 프로덕션 필수! 미설정 시 서비스 시작 실패
# 비밀번호 생성: openssl rand -base64 24
MONGO_ROOT_USER=
MONGO_ROOT_PASSWORD=

# 애플리케이션 DB
MONGO_DATABASE=rhizome

# MongoDB URI (n8n Credentials에서 사용)
MONGO_URI=mongodb://rhizome_admin:change_this_mongo_password@mongo:27017/rhizome?authSource=admin

# ==================== Mongo Express (개발용) ====================
# dev 프로파일로만 실행: docker-compose --profile dev up
MONGO_EXPRESS_USER=admin
# 비밀번호 생성: openssl rand -base64 24
MONGO_EXPRESS_PASSWORD=

# ==================== Traefik (선택) ====================
# Let's Encrypt 이메일 (HTTPS 인증서용)
ACME_EMAIL=your-email@example.com

# ==================== 보안 주의사항 ====================
# 1. 이 파일(.env)은 절대 Git에 커밋하지 마세요!
# 2. 모든 기본 비밀번호를 변경하세요.
# 3. 프로덕션에서는 강력한 비밀번호를 사용하세요.
# 4. N8N_ENCRYPTION_KEY는 한 번 설정 후 변경하지 마세요 (데이터 손실 위험).

